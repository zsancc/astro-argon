/* utils */
white(a)
  rgba(255, 255, 255, a)

black(a)
  rgba(0, 0, 0, a)

rainbow-light = linear-gradient(to right, oklch(0.80 0.10 0), oklch(0.80 0.10 30), oklch(0.80 0.10 60), oklch(0.80 0.10 90), oklch(0.80 0.10 120), oklch(0.80 0.10 150), oklch(0.80 0.10 180), oklch(0.80 0.10 210), oklch(0.80 0.10 240), oklch(0.80 0.10 270), oklch(0.80 0.10 300), oklch(0.80 0.10 330), oklch(0.80 0.10 360))
rainbow-dark = linear-gradient(to right, oklch(0.70 0.10 0), oklch(0.70 0.10 30), oklch(0.70 0.10 60), oklch(0.70 0.10 90), oklch(0.70 0.10 120), oklch(0.70 0.10 150), oklch(0.70 0.10 180), oklch(0.70 0.10 210), oklch(0.70 0.10 240), oklch(0.70 0.10 270), oklch(0.70 0.10 300), oklch(0.70 0.10 330), oklch(0.70 0.10 360))

:root
  --radius-large 1rem
  --content-delay 150ms

/* Utility to define variables that vary with light and dark mode */
define(vars)
  :root
    for key, value in vars
      {key}: value[0]
  :root.dark
    for key, value in vars
      if length(value) > 1
        {key}: value[1]

define({
  --primary: var(--color-primary) var(--color-primary)
  --page-bg: var(--color-base-100) var(--color-base-100)
  --card-bg: var(--color-base-200) var(--color-base-200)
  --panel-surface: var(--color-base-200) var(--color-base-200)

  --deep-text: var(--color-base-content) var(--color-base-content)
  --accent-content: var(--color-primary) var(--color-primary)
  --title-active: var(--color-primary) var(--color-primary)
  --nav-brand-fg: #445a80 #d7e3ff
  --nav-item-fg: #5f7699 #b5c6e7

  --surface-soft: var(--color-base-300) var(--color-base-300)
  --surface-soft-hover: black(0.10) white(0.16)
  --surface-soft-active: black(0.15) white(0.22)

  --surface-muted-hover: black(0.06) white(0.09)
  --surface-muted-active: black(0.10) white(0.14)
  --surface-emphasis-hover: black(0.03) white(0.08)
  --surface-emphasis-active: black(0.06) white(0.13)
  --image-overlay-rest: black(0.05) black(0.10)
  --image-overlay-hover: black(0.30) black(0.30)
  --image-overlay-active: black(0.50) black(0.50)
  --floating-contrast-bg: black(0.60) black(0.60)
  --floating-contrast-hover: black(0.70) black(0.70)
  --floating-contrast-active: black(0.80) black(0.80)
  --floating-contrast-fg: white(0.78) white(0.82)
  --overlay-control-bg: black(0.40) black(0.40)
  --overlay-control-hover: black(0.50) black(0.50)
  --overlay-control-active: black(0.60) black(0.60)

  --border-divider: black(0.12) white(0.14)
  --line-color: black(0.16) white(0.20)
  --border-divider-muted: black(0.26) white(0.32)

  --inline-code-bg: black(0.04) white(0.10)
  --inline-code-color: var(--accent-content) var(--accent-content)
  --selection-bg: var(--surface-soft-active) var(--surface-soft-active)
  --codeblock-selection: var(--surface-soft-active) var(--surface-soft-active)
  --codeblock-bg: oklch(0.26 0.03 262) oklch(0.205 0.03 262)
  --codeblock-topbar-bg: oklch(0.36 0.028 262) oklch(0.25 0.024 262)
  --code-line-number: white(0.25) white(0.30)

  --license-block-bg: black(0.03) var(--codeblock-bg)

  --link-decoration: var(--surface-soft-hover) var(--surface-soft-hover)
  --link-decoration-hover: var(--surface-soft-active) var(--surface-soft-active)

  --scrollbar-bg-light: black(0.4)
  --scrollbar-bg-hover-light: black(0.5)
  --scrollbar-bg-active-light: black(0.6)

  --scrollbar-bg-dark: white(0.4)
  --scrollbar-bg-hover-dark: white(0.5)
  --scrollbar-bg-active-dark: white(0.6)

  --scrollbar-bg: var(--scrollbar-bg-light) var(--scrollbar-bg-dark)
  --scrollbar-bg-hover: var(--scrollbar-bg-hover-light) var(--scrollbar-bg-hover-dark)
  --scrollbar-bg-active: var(--scrollbar-bg-active-light) var(--scrollbar-bg-active-dark)

  --color-selection-bar: rainbow-light rainbow-dark

  --admonitions-color-tip: var(--color-success) var(--color-success)
  --admonitions-color-note: var(--color-info) var(--color-info)
  --admonitions-color-important: var(--color-secondary) var(--color-secondary)
  --admonitions-color-warning: var(--color-warning) var(--color-warning)
  --admonitions-color-caution: var(--color-error) var(--color-error)

  --toc-chip-bg: var(--surface-soft) var(--surface-soft)
  --toc-surface-hover: var(--surface-muted-hover) var(--surface-muted-hover)
  --toc-surface-active: var(--surface-muted-active) var(--surface-muted-active)
  --toc-width: calc((100vw - var(--page-width)) / 2 - 1rem)
})
